# ModernFM Docker Compose éƒ¨ç½²æ–‡æ¡£ ğŸš€

æœ¬æ–‡æ¡£å°†å¼•å¯¼æ‚¨ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½² **ModernFM**ã€‚

## ğŸ“‹ éƒ¨ç½²æ¶æ„
æœ¬å¥—ä»¶åŒ…å«ä»¥ä¸‹ 4 ä¸ªå®¹å™¨ï¼š
1.  **Frontend**: åŸºäº Nginx çš„ Vue 3 å‰ç«¯ç•Œé¢ï¼ˆç«¯å£ 80ï¼‰ã€‚
2.  **Backend**: åŸºäº Go çš„é«˜æ€§èƒ½åç«¯ APIï¼ˆç«¯å£ 38866ï¼‰ï¼Œå†…ç½® FFmpeg è½¬ç ã€‚
3.  **Database**: PostgreSQL 15 æ•°æ®åº“ï¼Œå­˜å‚¨æ–‡ä»¶å…ƒæ•°æ®ä¸æƒé™ä¿¡æ¯ã€‚
4.  **Cache**: Redis 7 ç¼“å­˜ï¼ŒåŠ é€Ÿç›®å½•è®¿é—®ã€‚

---

## ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

### 1. å‡†å¤‡å·¥ä½œ
ç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸­å·²å®‰è£…ï¼š
- Docker
- Docker Compose (v2.0+)

### 2. è·å–ä»£ç 
å¦‚æœæ‚¨è¿˜æ²¡æœ‰ä»£ç ï¼Œå¯ä»¥ä» GitHub å…‹éš†ï¼š
```bash
git clone https://github.com/flywindW666/ModernFM.git
cd ModernFM
```

### 3. é…ç½®æ•°æ®æŒ‚è½½
ç¼–è¾‘ `deploy/docker-compose.yml` æ–‡ä»¶ï¼Œå°†æ‚¨çš„ Unraid æˆ–æœ¬åœ°æ•°æ®è·¯å¾„æŒ‚è½½åˆ°åç«¯å®¹å™¨ï¼š

```yaml
services:
  backend:
    volumes:
      - /mnt/user:/data  # å°†å·¦ä¾§æ”¹ä¸ºæ‚¨çš„çœŸå®æ•°æ®è·¯å¾„
```

### 4. ä¸€é”®å¯åŠ¨
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œç›´æ¥è¿è¡Œæˆ‘ä¸ºæ‚¨å†™å¥½çš„éƒ¨ç½²è„šæœ¬ï¼š
```bash
bash deploy.sh
```
æˆ–è€…æ‰‹åŠ¨è¿è¡Œ Compose å‘½ä»¤ï¼š
```bash
docker-compose -f deploy/docker-compose.yml up -d --build
```

---

## ğŸ”— è®¿é—®ä¿¡æ¯
éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **Web UI**: `http://<æœåŠ¡å™¨IP>:80`
- **API æ¥å£**: `http://<æœåŠ¡å™¨IP>:38866`

---

## âš™ï¸ ç¯å¢ƒå˜é‡è¯´æ˜
æ‚¨å¯ä»¥åœ¨ `deploy/docker-compose.yml` ä¸­ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š
- `DB_URL`: PostgreSQL è¿æ¥å­—ç¬¦ä¸²ã€‚
- `REDIS_URL`: Redis æœåŠ¡åœ°å€ã€‚
- `ROOT_DIR`: åç«¯ç®¡ç†æ–‡ä»¶çš„èµ·å§‹æ ¹ç›®å½•ï¼ˆé»˜è®¤ `/data`ï¼‰ã€‚

---

## ğŸ’¾ æ•°æ®æŒä¹…åŒ–
- æ•°æ®åº“æ•°æ®å­˜å‚¨åœ¨å®¿ä¸»æœºçš„ `./data/postgres` ç›®å½•ã€‚
- ç¼“å­˜æ•°æ®å­˜å‚¨åœ¨å®¿ä¸»æœºçš„ `./data/redis` ç›®å½•ã€‚

---
*Developed & Packaged by Lucky ğŸ€*
